# Редактирование закоммиченных файлов.

## Версии репозитория.

Создав два файла **file1.txt**, **file2.txt** c неким содержимым, мы индексируем их через `git add` и коммитим с помощью  
команды `git commit -m "message"`. На данный момент мы имеем **первую версию репозитория**. Теперь создадим **file3.txt**  
и добавим его в индекс `git add`. Сейчас у нас будет 3 файла: 2 закоммиченных и один новый, отслеживаемый гитом. Теперь  
изменим **file1.txt** и проверим статус `git status` можно увидеть: 1 **new file** и 1 **modified**. Индексируем  
(`git add .`) файлы и коммитим их (`git commit -m "message"`). Теперь у нас 2 коммита - 2 версии репозитория:

**В первой версии** репозитория хранятся созданные нами 3 файла:

**file1.txt** (закоммичен)

**file2.txt** (закоммичен)

**file3.txt** (отслеживается)

**Во второй версии** хранятся эти же самые файлы, но:

**file1.txt** изменен (в file1.txt мы поменяли содержание)

**file2.txt** остался такой же, как и в первой версии

**file3.txt** закоммичен.


Если, например, нам что-то надо поменять в file3.txt, то мы его редактируем, потом снова коммитим — у нас уже будет  
**третья версия** репозитория:  

![VersionRepos](img/VersionRepos.jpg)

___

# История изменений

Сохранение истории изменений (истории коммитов) — одна из самых важных частей Git. В истории сохраняются все коммиты,  
по которым можно посмотреть автора коммита, комментарий, дату коммита и его хэш. А также можно увидеть измененные  
файлы и изменения в каждом файле: Git хранит буквально все, от самого начала проекта.  

![PathToRepos](img/PathToRepos.jpg)

1. Когда мы только создали какие-то файлы, они еще не отслеживается Гитом и имеют состояние **Untracked** — мы создали  
изменения.  


2. Когда мы добавили их в Индекс, они стали **Staged** — отслеживаемые Гитом — мы записали эти изменения.  


3. Как только мы сделали коммит — файлы стали версией локального репозитория — мы сохранили эти изменения.  


И если после всего этого задать команду `git push`, то мы отправим изменения с локального репозитория на сервер в  
удаленный репозиторий (например, на GitHub).  


## Как посмотреть историю изменений (коммитов)?  

История коммитов содержит сведения о каждом проведенном коммите проекта.  

Запросить историю изменений можно с помощью команды `git log.`, с ее помощью можно:  

1) найти конкретную версию проекта (конкретный коммит);  

2) определить кто, когда и какие изменения сделал;  

3) вспомнить хэш коммита, к которому нужно вернуться;  

4) фильтровать коммиты;  

5) просто проследить за историей развития проекта.  

в **Pycharm** `git log` выдает последние 2 коммита, что бы пролистать дальше на 1 надо нажать `d`, на 2 - `space`.  

Пример вывода `git log`:

```commandline
commit 66c39a2fd4f4cafb89c01309131afc9d11003dfa (HEAD -> main, origin/main, origin/HEAD)
Author: anyway <dfrozzze@gmail.com>
Date:   Sat Jan 6 07:22:32 2024 +0300

    second commit

commit 4ed51984b0e9c5ac209ccfc675d78d4d3310e4d4
Author: anyway <dfrozzze@gmail.com>
Date:   Sat Jan 6 07:11:31 2024 +0300

    first commit

```

История коммитов отображается в обратном порядке — наверху самый свежий коммит, а под ним более старые. 

### Параметры (флаги) для команды git log

Мы можем фильтровать логи с помощью флагов, например:

1) `git log -число` — ограничит количество отображаемых коммитов указанным числом. Команда выводит столько последних  
коммитов, сколько мы ей укажем.  

2)  `git log --pretty=medium` - стандартное значение. Чаще используется `--pretty=oneline` - идентификатор коммита и  
его сообщение. Для сокращенния индентификатора коммита в выводе добавляется `--abbrev-commit`. А краткая форма записи  
выглядит как `git log --oneline`.  

3) `git log -p `— отобразит разницу, внесенную в каждый коммит. Разница часто называется диффом, а аргумент `-p` иногда  
заменяют на `--patch`.  

4) `git log --stat` - покажет краткую статистику по каждому коммиту.

5) `git log --author="АВТОР"` - найдет коммиты "АВТОР"

## Просмотр отдельного коммита

### Команда git show

Чтобы просмотреть отдельный коммит, нам нужна команда `git show` и идентификатор (хэш) коммита. Хэш выводится в любой  
команде git log.

### P.S.

`git log` — показывает историю коммитов. Клавиша q — для того, чтобы выйти из лога

`git log -2` — показывает последние 2 коммита

`git log -p` — расширенный вывод истории: выводит то же, что и git log, но еще и с изменениями в файлах

`git log --oneline` — выводит коммиты в одну строку, показывая только хэш коммита и commit message

`git log --pretty=format:" "` — меняет формат вывода лога в соответствии с указанными в кавычках параметрами

`git show хэш_коммита` — показывает информацию по отдельному коммиту

___

## Команда git checkout



